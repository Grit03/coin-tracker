# 🪙 Coin-tracker (암호화폐 시세 조회 사이트)

## 🖥️ 프로젝트 소개
<img width="400" alt="image" src="https://user-images.githubusercontent.com/68225058/214632463-6bd1cde8-e74a-45cc-9b70-88da2b98c018.png">

암호화폐 순위 1위 부터 100위까지의 시세를 조회할 수 있는 사이트입니다. <br>
`coinpaprika API`를 활용하여 제작하였습니다.


## 🕰️ 개발 기간
2022.11.01 ~ 2022.11.12 <br>
2023.01.25 ~ 2023.01.26


## 🪓 개발 스택
<img
  src="https://img.shields.io/badge/React-61DAFB?style=flat&logo=React&logoColor=white"
/>
<img
  src="https://img.shields.io/badge/TypeScript-3178C6?style=flat&logo=TypeScript&logoColor=white"
/>
<img src="https://img.shields.io/badge/styled%20components-DB7093?style=flat&logo=styled-components&logoColor=white" />
<img src="https://img.shields.io/badge/recoil-007AF4?style=flat&logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIiB2aWV3Qm94PSIwIDAgNjAwIDYwMCI+PGxpbmsgeG1sbnM9IiIgdHlwZT0idGV4dC9jc3MiIGlkPSJkYXJrLW1vZGUiIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iIi8+PGcgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Ik0xNDIuNTM2IDE5OC44NThjMCAyNi4zNi0yMS4zNjggNDcuNzItNDcuNzIgNDcuNzItMjYuMzYgMC00Ny43MjItMjEuMzYtNDcuNzIyLTQ3LjcyczIxLjM2LTQ3LjcyIDQ3LjcyLTQ3LjcyYzI2LjM1NSAwIDQ3LjcyMiAyMS4zNiA0Ny43MjIgNDcuNzIiLz48cGF0aCBkPSJNNTA1LjE4IDQxNC4yMjVIMjM4LjEyNGMtMzUuMjUgMC02My45MjYtMjguNjc0LTYzLjkyNi02My45MjNzMjguNjc4LTYzLjkyNiA2My45MjYtNjMuOTI2aDEyMC43OGMyMC44MTYgMCAzNy43NTMtMTYuOTM4IDM3Ljc1My0zNy43NTZzLTE2LjkzOC0zNy43NTYtMzcuNzUzLTM3Ljc1Nkg5NC44MWMtNy4yMjcgMC0xMy4wODYtNS44Ni0xMy4wODYtMTMuMDg1IDAtNy4yMjcgNS44Ni0xMy4wODYgMTMuMDg1LTEzLjA4NmgyNjQuMDkzYzM1LjI1IDAgNjMuOTIzIDI4LjY3OCA2My45MjMgNjMuOTI2cy0yOC42NzQgNjMuOTIzLTYzLjkyMyA2My45MjNoLTEyMC43OGMtMjAuODIgMC0zNy43NTYgMTYuOTM4LTM3Ljc1NiAzNy43NiAwIDIwLjgxNiAxNi45MzggMzcuNzUzIDM3Ljc1NiAzNy43NTNINTA1LjE4YzcuMjI3IDAgMTMuMDg2IDUuODYgMTMuMDg2IDEzLjA4NSAwIDcuMjI2LTUuODU4IDEzLjA4NS0xMy4wODUgMTMuMDg1eiIvPjxwYXRoIGQ9Ik00NTcuNDY0IDQwMS4xNDJjMC0yNi4zNiAyMS4zNi00Ny43MiA0Ny43Mi00Ny43MnM0Ny43MiAyMS4zNiA0Ny43MiA0Ny43Mi0yMS4zNiA0Ny43Mi00Ny43MiA0Ny43Mi00Ny43Mi0yMS4zNi00Ny43Mi00Ny43MiIvPjwvZz48c3R5bGUgeG1sbnM9IiIgaWQ9ImRhcmstbW9kZS1jdXN0b20tY29sb3IiPgoJCTpyb290ewoJCQktLWJnLWNvbG9yOnJnYmEoMjYsMjYsMjYsMSk7CgkJCS0tdGV4dC1jb2xvcjpyZ2JhKDExMCwxMTAsMTEwLDEpOwoJCQktLWEtY29sb3I6cmdiYSg5MCwxMjAsMTIwLDEpOwoJCQktLWEtdmlzaXRlZC1jb2xvcjpyZ2JhKDEyMCwxMjAsOTAsMSk7CgkJCS0tYS1ob3Zlci1jb2xvcjpyZ2JhKDIxMSwyMTEsMjExLDEpOwoJCQktLWlucHV0LWJvcmRlci1jb2xvcjpyZ2JhKDIxMSwyMTEsMjExLDAuMik7CgkJCS0taW5wdXQtcGxhY2Vob2xkZXItY29sb3I6cmdiYSgxNzMsMjE2LDIzMCwxKTsKCQkJLS1kaWFsb2ctYmctY29sb3I6cmdiYSgzNiwzNiwzNiwwLjk1KTsKCQkJLS1iZy1pbWFnZTpsaW5lYXItZ3JhZGllbnQocmdiYSgyNiwyNiwyNiwxKSxyZ2JhKDI2LDI2LDI2LDEpKTsKCQl9Cgk8L3N0eWxlPjwvc3ZnPg==" />

## 📌 기능
### 다크모드와 라이트모드 구현
<div style="display: flex;">
<img width="350" alt="image" src="https://user-images.githubusercontent.com/68225058/214638113-88e258de-97e8-4fa8-8a4b-fac2ca1c465b.png">
<img width="350" alt="image" src="https://user-images.githubusercontent.com/68225058/214638234-dfb436c7-e498-4cce-a3e6-4bfcf2967b10.png">
</div>

```tsx
import { lightTheme, darkTheme } from "./theme";

function Root() {
  const isDark = useRecoilValue(darkState);
  return (
    <ThemeProvider theme={isDark ? darkTheme : lightTheme}>
      <GlobalStyle />
      <Header />
      <Outlet />
      <ModeToggle />
    </ThemeProvider>
  );
}
```
위 코드는 `ThemeProvider` 를 통해 하위 컴포넌트에 상태를 넘겨주는 코드입니다. <br>
`Styled Component` 의 `ThemeProvider` 를 이용하여 다크모드와 라이트 모드를 구현하였습니다. <br>
`Recoil` 를 사용하여 현재 다크모드인지, 라이트모드인지에 대한 상태관리를 하였습니다. <br>

```ts
// styled.d.ts
import "styled-components";
declare module "styled-components" {
  export interface DefaultTheme {
    bgColor: string;
    textColor: string;
    accentColor: string;
    containerColor: string;
    containerFocusColor: string;
    overviewBgColor: string;
  }
}
```
다크모드, 라이트 모드일 때 변화는 CSS 속성에 대한 내용을 `styled-components` 에서 `prop` 이라는 객체로 활용하게되는데, <br>
`Typescript` 로 개발했기 때문에 이 `prop` 에 대한 타입 정의가 필요하였습니다.
위 `styled.d.ts` 파일을 생성하고 `DefaultTheme` 이라는 `Interface`를 생성하여 `styled-components` 에 추가함으로써 타입을 지정해줄 수 있었습니다.

### 모바일 반응형 구현
<div style="display: flex;">
<img width="180" alt="image" src="https://user-images.githubusercontent.com/68225058/214645252-9be02651-ede2-4d1c-9fe3-da3664dc5154.png">
<img width="453" alt="image" src="https://user-images.githubusercontent.com/68225058/214645343-8b46b5a2-c730-44e5-89c5-5f2b700dae93.png">
</div>

`media query` 를 기반으로 만들어진 Hook 라이브러리인 `react-responsive`를 활용하여 구현하였습니다.
```tsx

// 스타일 컴포넌트의 prop으로 받은 isMobile 값에 따라 모바일에 따른 CSS를 적용할지, PC에 따른 CSS를 적용할 것인지 설정
const Img = styled.img<IWithMediaQuery>`
  width: ${({ isMobile }) => (isMobile ? "300px" : "400px")};
  min-width: 150px;
  animation: ${floating} 1.8s infinite ease-in-out alternate;
`;

function Home() {
  // useMediaQuery Hook을 이용하여 모바일인지를 체크
  const isMobile = useMediaQuery({
    query: "(max-width:767px)",
  });
  
  //... 생략
  
  // isMobile 값을 prop으로 각 스타일 컴포넌트로 넘김
  return (
    <>
      <Container isMobile={isMobile}>
        <Title isMobile={isMobile}>
          암호화폐를 구매하기 전에,
          <br />
          먼저 자세한 시세를 조회해보세요!
          <Btn onClick={onClick}>시세 조회 &rarr;</Btn>
        </Title>
        <Img isMobile={isMobile} src="/coin-tracker/homepage.png" />
      </Container>
    </>
  );
}
```

### 암호화폐의 정보 조회
<img width="450" alt="image" src="https://user-images.githubusercontent.com/68225058/214643352-b8c4799a-85d5-4dd3-b4de-e9b0c926fb88.png">

사용자가 클릭하여 들어온 암호화폐에 대한 설명, 순위, 공급량, 시가총액, 현재가격, 어제 대비 증감 정보를 한눈에 알 수 있도록 구현하였습니다.

### 시세 차트 조회
<img width="450" alt="image" src="https://user-images.githubusercontent.com/68225058/214642294-bb1fdd45-1261-40d6-885a-41b220a45e44.png">

현재 암호화폐의 시세 변동을 캔들 차트로 조회할 수 있도록 만들었습니다. <br>
차트 라이브러리는 `ApexChart` 를 사용하였습니다.

### 가격 정보 조회
<img width="450" alt="image" src="https://user-images.githubusercontent.com/68225058/214642493-9caba295-ccd3-4b0d-bb0d-982ecacc5c25.png">

현재 암호화폐의 순위와 시세의 증감 변동을 시기 별로 조회할 수 있습니다. <br>


## 👩🏻‍💻 배운 점

- [x] `React` 와 `TypeScript` 를 사용하여 타입 안정성을 높이고, `API` 등을 활용함에 있어 자동완성 기능을 사용할 수 있게 되어 효율적으로 코드를 작성할 수 있게 되었다.<br>
- [x] `react-router-dom` 을 통해 route를 navigate하는 방법을 배우고, `nested route` 를 구현할 수 있게 되었다.<br>
    특히 `react-router-dom v6` 의 `CreateBrowserRouter`를 활용하는 방법을 배울 수 있고 `outlet` 컴포넌트를 통해 쉽게 `nested route` 를 구현할 수 있게 되었다.
- [x] `Styled-Components`를 통해 컴포넌트 단위 별 CSS를 적용하는 방법을 알 수 있었다.
- [x] `React-Query`를 통해 fetching한 데이터를 효율적으로 관리하고 캐싱하여 사용자가 데이터를 로드하는 시간을 줄일 수 있었다.

## 🌐 웹사이트 주소
[코인 시세 트래커 📈](https://grit03.github.io/coin-tracker/) 
